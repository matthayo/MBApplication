{"version":3,"sources":["family/family-detail-edit.component.ts"],"names":["FamilyDetailEditComponent","familyService","router","activatedRoute","this","title","prototype","ngOnInit","_this","id","snapshot","params","get","subscribe","family","console","log","family_1","Family","navigate","onInsert","add","data","Id","error","onUpdate","update","onDelete","delete","onFamilyDetailView","backToFamiliesList","onBack","__decorate","core_1","Component","selector","templateUrl","family_service_1","FamilyService","router_1","Router","ActivatedRoute"],"mappings":"ujCAmBI,SAAAA,0BAAoBC,cACAC,OACAC,gBAFAC,KAAAH,cAAAA,cACAG,KAAAF,OAAAA,OACAE,KAAAD,eAAAA,eALpBC,KAAAC,MAAQ,yBA8EZ,OAtEIL,0BAAAM,UAAAC,SAAA,WAAA,IAAAC,MAAAJ,KACQK,IAAML,KAAKD,eAAeO,SAASC,OAAW,GAC/CF,GACCL,KAAKH,cAAcW,IAAIH,IAAII,UACvB,SAAAC,QAAU,OAAAN,MAAKM,OAASA,SAGhB,IAAPL,IACLM,QAAQC,IAAI,wCACZZ,KAAKU,OAAS,IAAIG,SAAAC,OAAO,EACD,UACA,KACA,KACA,KACA,KACA,KACA,QAIxBH,QAAQC,IAAI,oCACZZ,KAAKF,OAAOiB,UAAU,eAI9BnB,0BAAAM,UAAAc,SAAA,SAASN,QAAT,IAAAN,MAAAJ,KACIA,KAAKH,cAAcoB,IAAIP,QAAQD,UAC3B,SAACS,MACGd,MAAKM,OAASQ,KACdP,QAAQC,IAAI,UAAYR,MAAKM,OAAOS,GAAK,mBACzCf,MAAKN,OAAOiB,UAAU,cAAeX,MAAKM,OAAOS,MAErD,SAACC,OAAU,OAAAT,QAAQC,IAAIQ,UAI/BxB,0BAAAM,UAAAmB,SAAA,SAASX,QAAT,IAAAN,MAAAJ,KACIA,KAAKH,cAAcyB,OAAOZ,QAAQD,UAC9B,SAACS,MACGd,MAAKM,OAASQ,KACdP,QAAQC,IAAI,UAAYR,MAAKM,OAAOS,GAAK,sBACzCf,MAAKN,OAAOiB,UAAU,cAAeX,MAAKM,OAAOS,MAErD,SAACC,OAAU,OAAAT,QAAQC,IAAIQ,UAI/BxB,0BAAAM,UAAAqB,SAAA,SAASlB,IAAT,IAAAD,MAAAJ,KACQK,GAAKL,KAAKU,OAAOS,GAErBnB,KAAKH,cAAc2B,OAAOnB,IAAII,UAC1B,SAACS,MACGP,QAAQC,IAAI,UAAYP,GAAK,sBAC7BD,MAAKN,OAAOiB,UAAU,MAE1B,SAACK,OAAU,OAAAT,QAAQC,IAAIQ,UAI/BxB,0BAAAM,UAAAuB,mBAAA,SAAmBf,QACfV,KAAKF,OAAOiB,UAAU,cAAeL,OAAOS,MAGhDvB,0BAAAM,UAAAwB,mBAAA,WACI1B,KAAKF,OAAOiB,UAAU,cAG1BnB,0BAAAM,UAAAyB,OAAA,WACI3B,KAAKF,OAAOiB,UAAU,MA7EjBnB,0BAAyBgC,YANrCC,OAAAC,WACGC,SAAU,qBACVC,YAAa,iFAQsBC,iBAAAC,cACPC,SAAAC,OACQD,SAAAE,kBAN3BzC","file":"family-detail-edit.component.js","sourcesContent":["//Imports\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\nimport { Family } from \"./family\";\r\nimport { FamilyService } from \"./family.service\";\r\n\r\n//Decorators\r\n@Component({\r\n    selector: \"family-detail-edit\",\r\n    templateUrl: `app/family/family-detail-edit.component.html`\r\n})\r\n\r\n//Export\r\nexport class FamilyDetailEditComponent {\r\n    title = \"Editing family details\"\r\n    family: Family;\r\n\r\n    constructor(private familyService: FamilyService, \r\n                private router: Router,\r\n                private activatedRoute: ActivatedRoute){\r\n    }\r\n    \r\n    ngOnInit(){\r\n        var id = +this.activatedRoute.snapshot.params[\"id\"];\r\n        if(id){\r\n            this.familyService.get(id).subscribe(\r\n                family => this.family = family\r\n            );\r\n        }\r\n        else if (id === 0) {\r\n            console.log(\"Id is 0: adding a new family unit...\");\r\n            this.family = new Family(0, \r\n                                    \"Add New\",  //FamilyName\r\n                                    null,       //AptNumber\r\n                                    null,       //House\r\n                                    null,       //Street\r\n                                    null,       //City\r\n                                    null,       //State\r\n                                    null       //Zip\r\n                                );      \r\n        }\r\n        else{\r\n            console.log(\"Invalid id: routing back to home\");\r\n            this.router.navigate([\"families\"]);\r\n        }\r\n    }\r\n\r\n    onInsert(family: Family){\r\n        this.familyService.add(family).subscribe(\r\n            (data) => {\r\n                this.family = data;\r\n                console.log(\"Family \" + this.family.Id + \" has been added\")\r\n                this.router.navigate([\"family/view\", this.family.Id]);\r\n            },\r\n            (error) => console.log(error)\r\n        );\r\n    }\r\n\r\n    onUpdate(family: Family){\r\n        this.familyService.update(family).subscribe(\r\n            (data) => {\r\n                this.family = data;\r\n                console.log(\"Family \" + this.family.Id + \" has been updated.\");\r\n                this.router.navigate([\"family/view\", this.family.Id]);\r\n            },\r\n            (error) => console.log(error)\r\n        );\r\n    }\r\n\r\n    onDelete(id: number){\r\n        var id = this.family.Id;\r\n\r\n        this.familyService.delete(id).subscribe(\r\n            (data) => {\r\n                console.log(\"Family \" + id + \" has been deleted.\");\r\n                this.router.navigate([\"\"]);\r\n            },\r\n            (error) => console.log(error)\r\n        );\r\n    }\r\n\r\n    onFamilyDetailView(family: Family){\r\n        this.router.navigate([\"family/view\", family.Id]);\r\n    }\r\n\r\n    backToFamiliesList(){\r\n        this.router.navigate([\"families\"]);\r\n    }\r\n\r\n    onBack(){\r\n        this.router.navigate([\"\"]);\r\n    }\r\n}"]}